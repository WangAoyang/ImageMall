
@{
    ViewData["Title"] = "Adds";
}

<h2>Adds</h2>
<script src="~/js/vue/vue.js"></script>
<script src="~/js/vue/axios.js"></script>


<div>
    <h2>地址信息</h2>

</div>

<div id="AccountAdd" class="modal-body">
    <table class="table table-hover">
        <tr>
            <td>地区名称</td>
            <td><input type="text" v-model="Name" /></td>
        </tr>
        <tr>
            <td>父级ID</td>
            <td><input type="text" v-model="Pid" /></td>
        </tr>
        <tr>
            <td>
                <button v-on:click="AddAccount()"> 添加</button>
                <button type="button" data-dismiss="modal">
                    关闭
                </button>
            </td>
        </tr>
    </table>
</div>

<script>
    var vm = new Vue({
        el: "#AccountAdd",
        type: "post",
        data: {
            Name: "",
            Pid: ""
        },
        methods: {

            AddAccount: function () {

                var params = new URLSearchParams();
                params.append("Name", this.Name);
                params.append("Pid", this.Pid);
                
                axios.post('/AddressInfo/Add', params).then((response) => { alert('添加成功'); location.reload() }).catch(function (response) { alert('失败') })
            }
        }
    })
</script>
